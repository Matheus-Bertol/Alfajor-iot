<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Simulação de Pagamento</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        background-color: #f4f4f4;
      }
  
      main {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
  
      #paymentScreen, #timerScreen {
        text-align: center;
        max-width: 80%;
        padding: 20px;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }
  
      input[type="number"] {
        width: 50px;
        padding: 8px;
        font-size: 16px;
      }
  
      button {
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        background-color: #3498db;
        color: #fff;
        border: none;
        border-radius: 4px;
      }
  
      button:hover {
        background-color: #2980b9;
      }
  
      #timer {
        font-size: 24px;
        font-weight: bold;
      }
  
      footer {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 10px 0;
        background-color: #ccc;
        color: #333;
      }
  
      footer a {
        margin-left: 5px;
        color: #333;
        text-decoration: none;
        display: flex;
        align-items: center;
      }
  
      footer img {
        width: 24px;
        height: 24px;
        margin-right: 5px;
      }
      strong {
        padding-left: 4px;
      }
    </style>
  </head>
  <body>
    <main>
      <div id="paymentScreen">
        <h1>Simulação de Pagamento</h1>
        <label for="hoursInput">Escolha a duração do tempo (em horas):</label>
        <input type="number" id="hoursInput" min="1" step="1" value="1" aria-label="Escolha a duração do tempo em horas">
        <button onclick="startPayment()">Pagar</button>
      </div>
  
      <div id="timerScreen" style="display: none;">
        <h1>Tempo Restante</h1>
        <p id="timer"></p>
      </div>
    </main>
  
    <footer>
      Desenvolvido por <strong>alfajor-iot</strong>
      <a href="https://github.com/Matheus-Bertol/Alfajor-iot" target="_blank" rel="noopener noreferrer">
        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" alt="GitHub" />
      </a>
    </footer>
    <script>
      let remainingTime;
      let intervalId;
  
      function startPayment() {
        const hours = parseInt(document.getElementById('hoursInput').value);
        const amount = hours * 2; // Valor a ser pago (R$2 por hora)
  
        // Simulação do pagamento (aqui você pode implementar a lógica real de pagamento)
        alert(`Você pagou R$ ${amount.toFixed(2)}. O tempo está contando!`);
  
        // Mostrar a tela do temporizador
        document.getElementById('paymentScreen').style.display = 'none';
        document.getElementById('timerScreen').style.display = 'block';
  
        remainingTime = hours * 60 * 60; // Converter horas em segundos
        startTimer();
      }
  
      function startTimer() {
        const timerDisplay = document.getElementById('timer');
        updateTimerDisplay(timerDisplay);
  
        intervalId = setInterval(() => {
          remainingTime--;
          updateTimerDisplay(timerDisplay);
  
          if (remainingTime <= 0) {
            clearInterval(intervalId);
            alert('Tempo acabou! Retornando para a tela de pagamento.');
            resetPayment();
          }
        }, 1000);
      }
  
      function updateTimerDisplay(displayElement) {
        const hours = Math.floor(remainingTime / 3600);
        const minutes = Math.floor((remainingTime % 3600) / 60);
        const seconds = remainingTime % 60;
  
        displayElement.textContent = `Tempo restante: ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      }
  
      function resetPayment() {
        clearInterval(intervalId);
        document.getElementById('paymentScreen').style.display = 'block';
        document.getElementById('timerScreen').style.display = 'none';
      }
    </script>
  </body>
</html>
